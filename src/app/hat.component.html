<!-- <md-input type="text" #playerName placeholder="Name..." (keyup.enter)="startGame(playerName.value)"></md-input> -->
 <md-toolbar color="primary">
<!--     <button md-icon-button (click)="sidenav.open()">
      <md-icon>menu</md-icon>
    </button> -->
    HAT MPGs
    <span [class.hideGame]="!gameStarted">
<span *ngIf="!myTurn">     ( Not Your Turn )</span>
<span *ngIf="myTurn">     ( Your Turn )</span>
    </span>
    <button md-fab style="float: right;background:#C8D0BC" (click)="resetGame()">
<!--       <md-icon>Reset</md-icon> -->
<md-icon>refresh</md-icon>
  </button>
  </md-toolbar> 

 <div style="margin: 10px;margin-left:15px">
 <md-radio-group >
            <md-radio-button (click)="playerName = 'p1'; gameStarted = false"  value="p1" checked = "true">T</md-radio-button>
            <md-radio-button (click)="playerName = 'p2'; gameStarted = false" value="p2">H</md-radio-button>
          </md-radio-group>
<button md-raised-button (click)="startGame()" color="primary" style="
    margin-left: 30px;
" [disabled]="!localCopy.resetState">Play >>
<!-- <md-icon>play_arrow</md-icon> -->
</button> 

<span *ngIf ="gameStarted" class="opponentStatus">Opponent's Cards Left: {{localCopy[otherPlayerName].length}}</span>
  </div>

 <md-card [class.hideGame]="!gameStarted" *ngIf="localCopy.winnerName == otherPlayerName"> <md-card-title>YOU LOOSE :( </md-card-title></md-card>
    <md-card [class.hideGame]="!gameStarted" *ngIf="localCopy.winnerName == playerName"> <md-card-title>YOU WIN :) </md-card-title></md-card>

 

<!-- <li [hidden]="gameStarted==false" *ngFor="let card of localCopy[playerName.value]">
  {{ card}}
</li> -->


<md-card [class.hideGame]="!(challengeState && myTurn && gameStarted)">
<md-card-title>Challenge (Played as {{localCopy.playAs}}) ? 
</md-card-title>
<md-card-content>
<div  class="card-container  wrap" >
    <md-card  #singleCard [class.selectCard]="card.selected" (click)="cardForChallengeClicked(card)" class="flex-item" *ngFor="let card of localCopy.turnCards">
<!--     <md-card-title *ngIF="challengeComplete"  >{{card.value}}</md-card-title> -->
<md-card-title  >X</md-card-title>
<!--     <span md-line>test</span> -->
    </md-card>
    </div>
</md-card-content>
<md-card-actions align="start">
        <button (click)="challengeYes()" md-button color="primary">YES</button>
                <button (click)="challengeNo()" md-button color="primary">NO</button>
                <button (click)="challengePass()" md-button color="primary">PASS</button>
                <button (click)="challengeAddMore()" md-button color="primary">ADD MORE</button>

      </md-card-actions>
</md-card>


<md-card [class.hideGame]="!gameStarted">
<md-card-title>Your Cards... 
</md-card-title>
<md-card-content>
<div  class="card-container  wrap" >
    <md-card  #singleCard [class.hideGame]="!gameStarted" [class.selectCard]="card.selected" (click)="cardClicked(card)" class="flex-item" *ngFor="let card of localCopy[playerName]">
    <md-card-title  >{{card.value}}</md-card-title>
<!--     <span md-line>test</span> -->
    </md-card>
    </div>
</md-card-content>
</md-card>

<md-card [class.hideGame]="!(localCopy.turnCards.length >1 && myTurn && !challengeState)">
<md-card-title>Play Selected As...</md-card-title>
<md-card-content>
<div  class="card-container  wrap" >
    <md-card  #singleCard [class.selectCard]="card.selected" (click)="cardOptionClicked(card)" class="flex-item" *ngFor="let card of localCopy.cardOptions">
    <md-card-title  >{{card.value}}</md-card-title>
<!--     <span md-line>test</span> -->
    </md-card>
    </div>
</md-card-content>
<md-card-actions align="start">
        <button (click)="executeChance()" md-button color="primary">DONE</button>
      </md-card-actions>
</md-card>



<!-- <h1>{{ item | async | json }}</h1>
  <input type="text" #newname placeholder="Name" />
  <input type="text" #newsize placeholder="Size" />
  <br />
  <button (click)="save(newname.value)">Set Name</button>
  <button (click)="update(newsize.value)">Update Size</button>
  <button (click)="delete()">Delete</button>

 -->


 <style>
 .hideGame{
   display:none;
 }
 .flex-container {
  padding: 10px;
  margin: 10px;
  list-style: none;
  -ms-box-orient: horizontal;
  display: flex;
}
.wrap    { 
  flex-wrap: wrap;
}  

.flex-item {
  background: #F9F4F3;
  padding: 5px;
  margin: 5px;
  width: 25px;
    height: 25px;
    text-align: center;
/*   
  width: 100px;
  height: 100px;
  
  
  line-height: 100px;
  color: white;
  font-weight: bold;
  font-size: 2em;
  text-align: center; */
}

.selectCard {
    background: #C8D0BC;
}

[md-fab] {
  position: absolute;
  right: 3%;
  top: 34px;
  z-index: 1;
  margin-top: 10px
}

.opponentStatus {
  color: white;
  position: absolute;
  right: 3%;
  top: 14px;
  z-index: 1;
  margin-top: 10px
}


md-radio-button, md-checkbox {
  margin: 16px 8px;
}

.form {
  display: flex;
}

.form md-card {
  flex-grow: 1;
}

.card-container {
  display: flex;
  flex-flow: row wrap;
}

* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.secondary {
  color: rgba(0,0,0,0.54);
}

 </style>